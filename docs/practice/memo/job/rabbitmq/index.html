<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/docs.advanced.way/blog/rss.xml" title="进阶之路 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs.advanced.way/blog/atom.xml" title="进阶之路 Blog Atom Feed"><title data-react-helmet="true">RabbitMQ 面试题 | 进阶之路</title><meta data-react-helmet="true" property="og:url" content="https://Goldwood1024.github.io/docs.advanced.way/docs/practice/memo/job/rabbitmq"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="RabbitMQ 面试题 | 进阶之路"><meta data-react-helmet="true" name="description" content="RabbitMQ"><meta data-react-helmet="true" property="og:description" content="RabbitMQ"><link data-react-helmet="true" rel="shortcut icon" href="/docs.advanced.way/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://Goldwood1024.github.io/docs.advanced.way/docs/practice/memo/job/rabbitmq"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/practice/memo/job/rabbitmq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/practice/memo/job/rabbitmq" hreflang="x-default"><link rel="stylesheet" href="/docs.advanced.way/assets/css/styles.5e159b62.css">
<link rel="preload" href="/docs.advanced.way/assets/js/runtime~main.aa1c8b94.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/main.8fae9188.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">进阶之路</strong></a><a class="navbar__item navbar__link" href="/docs.advanced.way/docs/java/">Java</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">生态</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/spring-family/">Spring家族</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/framework/mybatis/">常用框架</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/distributed/">分布式</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/cloud/docker/base/镜像/">容器</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/db/mysql/InnoDB/">数据库</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/zoology/os/network/tcpip/">计算机系统</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">编码实践</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/algorithm/algorithm/">算法/数据结构</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/patterns/">设计模式</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/architecture/">系统架构</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/practice/memo/tool/sublime/">备忘录</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs.advanced.way/blog">博客</a><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">进阶之路</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/java/">Java</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">生态</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/spring-family/">Spring家族</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/framework/mybatis/">常用框架</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/distributed/">分布式</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/cloud/docker/base/镜像/">容器</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/db/mysql/InnoDB/">数据库</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/zoology/os/network/tcpip/">计算机系统</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">编码实践</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/algorithm/algorithm/">算法/数据结构</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/patterns/">设计模式</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/architecture/">系统架构</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/practice/memo/tool/sublime/">备忘录</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>进阶之路</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">软件安装</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/tool/sublime">sublime text</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/tool/idea">Idea IDE</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">使用教程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/course/maven">maven 教程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/course/git">Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/course/docker">Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">云课堂</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/cyclopedia/chinese/notes/dingding/">钉钉</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">大中国</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/cyclopedia/chinese/lan/idiom/">成语俗语</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/practice/memo/chinese/noun/economics">经济名词</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">面试题</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/java/">JAVA 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/jvm">JVM 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/mybatis">Mybatis 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/mysql">MySQL 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/redis">Redis 面试题</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/rabbitmq">RabbitMQ 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/spring">Spring 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/linux">Linux 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/网络协议">网络协议</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/分布式">分布式面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/算法">算法面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/服务器">服务器面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/practice/memo/job/面经">面试记录</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">RabbitMQ 面试题</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq"></a>RabbitMQ<a class="hash-link" href="#rabbitmq" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-的使用场景有哪些？"></a>RabbitMQ 的使用场景有哪些？<a class="hash-link" href="#rabbitmq-的使用场景有哪些？" title="Direct link to heading">#</a></h3><ul><li>抢购活动，削峰填谷，防止系统崩塌。</li><li>延迟信息处理，比如 10 分钟之后给下单未付款的用户发送邮件提醒。</li><li>解耦系统，对于新增的功能可以单独写模块扩展，比如用户确认评价之后，新增了给用户返积分的功能，这个时候不用在业务代码里添加新增积分的功能，只需要把新增积分的接口订阅确认评价的消息队列即可，后面再添加任何功能只需要订阅对应的消息队列即可。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-有哪些重要的角色？"></a>RabbitMQ 有哪些重要的角色？<a class="hash-link" href="#rabbitmq-有哪些重要的角色？" title="Direct link to heading">#</a></h3><p>RabbitMQ 中重要的角色有：生产者、消费者和代理：</p><ul><li>生产者：消息的创建者，负责创建和推送数据到消息服务器；</li><li>消费者：消息的接收方，用于处理数据和确认消息；</li><li>代理：就是 RabbitMQ 本身，用于扮演“快递”的角色，本身不生产消息，只是扮演“快递”的角色。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-有哪些重要的组件？"></a>RabbitMQ 有哪些重要的组件？<a class="hash-link" href="#rabbitmq-有哪些重要的组件？" title="Direct link to heading">#</a></h3><ul><li>ConnectionFactory（连接管理器）：应用程序与Rabbit之间建立连接的管理器，程序代码中使用。</li><li>Channel（信道）：消息推送使用的通道。</li><li>Exchange（交换器）：用于接受、分配消息。</li><li>Queue（队列）：用于存储生产者的消息。</li><li>RoutingKey（路由键）：用于把生成者的数据分配到交换器上。</li><li>BindingKey（绑定键）：用于把交换器的消息绑定到队列上。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-中-vhost-的作用是什么？"></a>RabbitMQ 中 vhost 的作用是什么？<a class="hash-link" href="#rabbitmq-中-vhost-的作用是什么？" title="Direct link to heading">#</a></h3><p>vhost：每个 RabbitMQ 都能创建很多 vhost，我们称之为虚拟主机，每个虚拟主机其实都是 mini 版的RabbitMQ，它拥有自己的队列，交换器和绑定，拥有自己的权限机制。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-的消息是怎么发送的？"></a>RabbitMQ 的消息是怎么发送的？<a class="hash-link" href="#rabbitmq-的消息是怎么发送的？" title="Direct link to heading">#</a></h3><p>首先客户端必须连接到 RabbitMQ 服务器才能发布和消费消息，客户端和 rabbit server 之间会创建一个 tcp 连接，一旦 tcp 打开并通过了认证（认证就是你发送给 rabbit 服务器的用户名和密码），你的客户端和 RabbitMQ 就创建了一条 amqp 信道（channel），信道是创建在“真实” tcp 上的虚拟连接，amqp 命令都是通过信道发送出去的，每个信道都会有一个唯一的 id，不论是发布消息，订阅队列都是通过这个信道完成的。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-怎么保证消息的稳定性？"></a>RabbitMQ 怎么保证消息的稳定性？<a class="hash-link" href="#rabbitmq-怎么保证消息的稳定性？" title="Direct link to heading">#</a></h3><p>提供了事务的功能。
通过将 channel 设置为 confirm（确认）模式。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-怎么避免消息丢失？"></a>RabbitMQ 怎么避免消息丢失？<a class="hash-link" href="#rabbitmq-怎么避免消息丢失？" title="Direct link to heading">#</a></h3><p>把消息持久化磁盘，保证服务器重启消息不丢失。
每个集群中至少有一个物理磁盘，保证消息落入磁盘。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="要保证消息持久化成功的条件有哪些？"></a>要保证消息持久化成功的条件有哪些？<a class="hash-link" href="#要保证消息持久化成功的条件有哪些？" title="Direct link to heading">#</a></h3><p>声明队列必须设置持久化 durable 设置为 true.
消息推送投递模式必须设置持久化，deliveryMode 设置为 2（持久）。
消息已经到达持久化交换器。
消息已经到达持久化队列。
以上四个条件都满足才能保证消息持久化成功。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-持久化有什么缺点？"></a>RabbitMQ 持久化有什么缺点？<a class="hash-link" href="#rabbitmq-持久化有什么缺点？" title="Direct link to heading">#</a></h3><p>持久化的缺地就是降低了服务器的吞吐量，因为使用的是磁盘而非内存存储，从而降低了吞吐量。可尽量使用 ssd 硬盘来缓解吞吐量的问题。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-有几种广播类型？"></a>RabbitMQ 有几种广播类型？<a class="hash-link" href="#rabbitmq-有几种广播类型？" title="Direct link to heading">#</a></h3><ul><li>direct（默认方式）：最基础最简单的模式，发送方把消息发送给订阅方，如果有多个订阅者，默认采取轮询的方式进行消息发送。</li><li>headers：与 direct 类似，只是性能很差，此类型几乎用不到。</li><li>fanout：分发模式，把消费分发给所有订阅者。</li><li>topic：匹配订阅模式，使用正则匹配到消息队列，能匹配到的都能接收到。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-怎么实现延迟消息队列？"></a>RabbitMQ 怎么实现延迟消息队列？<a class="hash-link" href="#rabbitmq-怎么实现延迟消息队列？" title="Direct link to heading">#</a></h3><p>延迟队列的实现有两种方式：</p><p>通过消息过期后进入死信交换器，再由交换器转发到延迟消费队列，实现延迟功能；
使用 RabbitMQ-delayed-message-exchange 插件实现延迟功能。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-集群有什么用？"></a>RabbitMQ 集群有什么用？<a class="hash-link" href="#rabbitmq-集群有什么用？" title="Direct link to heading">#</a></h3><p>集群主要有以下两个用途：</p><ul><li>高可用：某个服务器出现问题，整个 RabbitMQ 还可以继续使用；</li><li>高容量：集群可以承载更多的消息量。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-节点的类型有哪些？"></a>RabbitMQ 节点的类型有哪些？<a class="hash-link" href="#rabbitmq-节点的类型有哪些？" title="Direct link to heading">#</a></h3><ul><li>磁盘节点：消息会存储到磁盘。</li><li>内存节点：消息都存储在内存中，重启服务器消息丢失，性能高于磁盘类型。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-集群搭建需要注意哪些问题？"></a>RabbitMQ 集群搭建需要注意哪些问题？<a class="hash-link" href="#rabbitmq-集群搭建需要注意哪些问题？" title="Direct link to heading">#</a></h3><ul><li>各节点之间使用“--link”连接，此属性不能忽略。</li><li>各节点使用的 erlang cookie 值必须相同，此值相当于“秘钥”的功能，用于各节点的认证。</li><li>整个集群中必须包含一个磁盘节点。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-每个节点是其他节点的完整拷贝吗？为什么？"></a>RabbitMQ 每个节点是其他节点的完整拷贝吗？为什么？<a class="hash-link" href="#rabbitmq-每个节点是其他节点的完整拷贝吗？为什么？" title="Direct link to heading">#</a></h3><p>不是，原因有以下两个：</p><p>存储空间的考虑：如果每个节点都拥有所有队列的完全拷贝，这样新增节点不但没有新增存储空间，反而增加了更多的冗余数据；
性能的考虑：如果每条消息都需要完整拷贝到每一个集群节点，那新增节点并没有提升处理消息的能力，最多是保持和单节点相同的性能甚至是更糟。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-集群中唯一一个磁盘节点崩溃了会发生什么情况？"></a>RabbitMQ 集群中唯一一个磁盘节点崩溃了会发生什么情况？<a class="hash-link" href="#rabbitmq-集群中唯一一个磁盘节点崩溃了会发生什么情况？" title="Direct link to heading">#</a></h3><p>如果唯一磁盘的磁盘节点崩溃了，不能进行以下操作：</p><p>不能创建队列
不能创建交换器
不能创建绑定
不能添加用户
不能更改权限
不能添加和删除集群节点
唯一磁盘节点崩溃了，集群是可以保持运行的，但你不能更改任何东西。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rabbitmq-对集群节点停止顺序有要求吗？"></a>RabbitMQ 对集群节点停止顺序有要求吗？<a class="hash-link" href="#rabbitmq-对集群节点停止顺序有要求吗？" title="Direct link to heading">#</a></h3><p>RabbitMQ 对集群的停止的顺序是有要求的，应该先关闭内存节点，最后再关闭磁盘节点。如果顺序恰好相反的话，可能会造成消息的丢失。</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Goldwood1024/docs.advanced.way/tree/master/docs/practice/memo/job/rabbitmq.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-07-06T06:05:23.000Z" class="lastUpdatedDate_1WI_">7/6/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs.advanced.way/docs/practice/memo/job/redis"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Redis 面试题</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs.advanced.way/docs/practice/memo/job/spring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spring 面试题 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rabbitmq" class="table-of-contents__link">RabbitMQ</a><ul><li><a href="#rabbitmq-的使用场景有哪些？" class="table-of-contents__link">RabbitMQ 的使用场景有哪些？</a></li><li><a href="#rabbitmq-有哪些重要的角色？" class="table-of-contents__link">RabbitMQ 有哪些重要的角色？</a></li><li><a href="#rabbitmq-有哪些重要的组件？" class="table-of-contents__link">RabbitMQ 有哪些重要的组件？</a></li><li><a href="#rabbitmq-中-vhost-的作用是什么？" class="table-of-contents__link">RabbitMQ 中 vhost 的作用是什么？</a></li><li><a href="#rabbitmq-的消息是怎么发送的？" class="table-of-contents__link">RabbitMQ 的消息是怎么发送的？</a></li><li><a href="#rabbitmq-怎么保证消息的稳定性？" class="table-of-contents__link">RabbitMQ 怎么保证消息的稳定性？</a></li><li><a href="#rabbitmq-怎么避免消息丢失？" class="table-of-contents__link">RabbitMQ 怎么避免消息丢失？</a></li><li><a href="#要保证消息持久化成功的条件有哪些？" class="table-of-contents__link">要保证消息持久化成功的条件有哪些？</a></li><li><a href="#rabbitmq-持久化有什么缺点？" class="table-of-contents__link">RabbitMQ 持久化有什么缺点？</a></li><li><a href="#rabbitmq-有几种广播类型？" class="table-of-contents__link">RabbitMQ 有几种广播类型？</a></li><li><a href="#rabbitmq-怎么实现延迟消息队列？" class="table-of-contents__link">RabbitMQ 怎么实现延迟消息队列？</a></li><li><a href="#rabbitmq-集群有什么用？" class="table-of-contents__link">RabbitMQ 集群有什么用？</a></li><li><a href="#rabbitmq-节点的类型有哪些？" class="table-of-contents__link">RabbitMQ 节点的类型有哪些？</a></li><li><a href="#rabbitmq-集群搭建需要注意哪些问题？" class="table-of-contents__link">RabbitMQ 集群搭建需要注意哪些问题？</a></li><li><a href="#rabbitmq-每个节点是其他节点的完整拷贝吗？为什么？" class="table-of-contents__link">RabbitMQ 每个节点是其他节点的完整拷贝吗？为什么？</a></li><li><a href="#rabbitmq-集群中唯一一个磁盘节点崩溃了会发生什么情况？" class="table-of-contents__link">RabbitMQ 集群中唯一一个磁盘节点崩溃了会发生什么情况？</a></li><li><a href="#rabbitmq-对集群节点停止顺序有要求吗？" class="table-of-contents__link">RabbitMQ 对集群节点停止顺序有要求吗？</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 进阶之路, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs.advanced.way/assets/js/runtime~main.aa1c8b94.js"></script>
<script src="/docs.advanced.way/assets/js/main.8fae9188.js"></script>
</body>
</html>