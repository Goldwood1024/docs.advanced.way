<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/docs.advanced.way/blog/rss.xml" title="è¿›é˜¶ä¹‹è·¯ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs.advanced.way/blog/atom.xml" title="è¿›é˜¶ä¹‹è·¯ Blog Atom Feed"><title data-react-helmet="true">è§‚å¯Ÿè€…æ¨¡å¼ | è¿›é˜¶ä¹‹è·¯</title><meta data-react-helmet="true" property="og:url" content="https://Goldwood1024.github.io/docs.advanced.way/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="è§‚å¯Ÿè€…æ¨¡å¼ | è¿›é˜¶ä¹‹è·¯"><meta data-react-helmet="true" name="description" content="å®šä¹‰"><meta data-react-helmet="true" property="og:description" content="å®šä¹‰"><link data-react-helmet="true" rel="shortcut icon" href="/docs.advanced.way/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://Goldwood1024.github.io/docs.advanced.way/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼" hreflang="x-default"><link rel="stylesheet" href="/docs.advanced.way/assets/css/styles.a150e3cc.css">
<link rel="preload" href="/docs.advanced.way/assets/js/styles.ddded6a8.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/runtime~main.5d198aef.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/main.131ff777.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/1.6e33c73b.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/2.88860bc9.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/3.52177707.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/1be78505.9a733b12.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/198.598f71db.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/935f2afb.dbe87953.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/17896441.71928309.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/e1258e88.bcd9ec08.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">è¿›é˜¶ä¹‹è·¯</strong></a><a class="navbar__item navbar__link" href="/docs.advanced.way/docs/java/">Java</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">å¸¸ç”¨æ¡†æ¶</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/spring/">å¸¸ç”¨æ¡†æ¶</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/mybatis/">Mybatis</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/auth/">æƒé™ç®¡ç†</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">ä¸­é—´ä»¶</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/distributed/">åˆ†å¸ƒå¼</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/tranctional/">äº‹åŠ¡</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/servicemesh/">æœåŠ¡ç½‘æ ¼</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/mq/">æ¶ˆæ¯é˜Ÿåˆ—</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">äº‘åŸç”Ÿ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/cloud/docker/base/é•œåƒ/">Dockerå®¹å™¨</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/k8s/">K8s</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/serverless/">Serverless</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">æœåŠ¡å™¨</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/linux/">Linux</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cache/">ç¼“å­˜</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/db/mysql/InnoDB/">æ•°æ®åº“</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cs/network/tcpip/">è®¡ç®—æœºç³»ç»Ÿ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">ç¼–ç å®è·µ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/algorithm/algorithm/">ç®—æ³•/æ•°æ®ç»“æ„</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs.advanced.way/docs/patterns/">è®¾è®¡æ¨¡å¼</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/architecture/">æ¶æ„è®¾è®¡</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/job/java/">é¢è¯•</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/memo/tool/ç³»ç»Ÿåˆå§‹åŒ–/">å¤‡å¿˜</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">å°ç™¾ç§‘</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/cyclopedia/chinese/notes/dingding/">è¯¾å ‚ç¬”è®°</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cyclopedia/chinese/lan/idiom/">å¤§ä¸­å›½</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs.advanced.way/blog">åšå®¢</a><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">è¿›é˜¶ä¹‹è·¯</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/java/">Java</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">å¸¸ç”¨æ¡†æ¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/spring/">å¸¸ç”¨æ¡†æ¶</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/mybatis/">Mybatis</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/auth/">æƒé™ç®¡ç†</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">ä¸­é—´ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/distributed/">åˆ†å¸ƒå¼</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/tranctional/">äº‹åŠ¡</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/servicemesh/">æœåŠ¡ç½‘æ ¼</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/mq/">æ¶ˆæ¯é˜Ÿåˆ—</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">äº‘åŸç”Ÿ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cloud/docker/base/é•œåƒ/">Dockerå®¹å™¨</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/k8s/">K8s</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/serverless/">Serverless</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">æœåŠ¡å™¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/linux/">Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cache/">ç¼“å­˜</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/db/mysql/InnoDB/">æ•°æ®åº“</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cs/network/tcpip/">è®¡ç®—æœºç³»ç»Ÿ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">ç¼–ç å®è·µ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/algorithm/algorithm/">ç®—æ³•/æ•°æ®ç»“æ„</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs.advanced.way/docs/patterns/">è®¾è®¡æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/architecture/">æ¶æ„è®¾è®¡</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/job/java/">é¢è¯•</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/memo/tool/ç³»ç»Ÿåˆå§‹åŒ–/">å¤‡å¿˜</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">å°ç™¾ç§‘</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cyclopedia/chinese/notes/dingding/">è¯¾å ‚ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cyclopedia/chinese/lan/idiom/">å¤§ä¸­å›½</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/blog">åšå®¢</a></li><li class="menu__list-item"><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs.advanced.way/img/logo.svg" alt="è¿›é˜¶ä¹‹è·¯ Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>è¿›é˜¶ä¹‹è·¯</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è®¾è®¡æ¨¡å¼</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/">README</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/other/è®¾è®¡æ¨¡å¼åŸåˆ™">é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">åˆ›å»ºå‹æ¨¡å¼</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/build/å•åˆ©æ¨¡å¼">å•åˆ©æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/build/å·¥å‚æ¨¡å¼">å·¥å‚æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/build/å»ºé€ è€…æ¨¡å¼">å»ºé€ è€…æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/build/åŸå‹æ¨¡å¼">åŸå‹æ¨¡å¼</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç»“æ„å‹æ¨¡å¼</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/äº¨å…ƒæ¨¡å¼">äº¨å…ƒæ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/ä»£ç†æ¨¡å¼">ä»£ç†æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/å¤–è§‚æ¨¡å¼">å¤–è§‚æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/æ¡¥æ¥æ¨¡å¼">æ¡¥æ¥æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/ç»„åˆæ¨¡å¼">ç»„åˆæ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/è£…é¥°æ¨¡å¼">è£…é¥°å™¨æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs.advanced.way/docs/patterns/structured/é€‚é…å™¨æ¨¡å¼">é€‚é…å™¨æ¨¡å¼</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">è¡Œä¸ºå‹æ¨¡å¼</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/ä¸­ä»‹è€…æ¨¡å¼">ä¸­ä»‹è€…æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/å¤‡å¿˜å½•æ¨¡å¼">å¤‡å¿˜å½•æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/æ¨¡æ¿æ–¹æ³•æ¨¡å¼">æ¨¡æ¿æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/çŠ¶æ€æ¨¡å¼">çŠ¶æ€æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/ç­–ç•¥æ¨¡å¼">ç­–ç•¥æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/èŒè´£é“¾æ¨¡å¼">è´£ä»»é“¾æ¨¡å¼</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼">è§‚å¯Ÿè€…æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/è§£é‡Šå™¨æ¨¡å¼">è§£é‡Šå™¨æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/è®¿é—®è€…æ¨¡å¼">è®¿é—®è€…æ¨¡å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/patterns/behavior/è¿­ä»£å™¨æ¨¡å¼">è¿­ä»£å™¨æ¨¡å¼</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">è§‚å¯Ÿè€…æ¨¡å¼</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="å®šä¹‰"></a>å®šä¹‰<a class="hash-link" href="#å®šä¹‰" title="Direct link to heading">#</a></h2><p>åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰ä¸€ä¸ªä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜çš„æ—¶å€™ï¼Œæ‰€æœ‰ä¾èµ–çš„å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨æ”¶åˆ°é€šçŸ¥</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="åœºæ™¯"></a>åœºæ™¯<a class="hash-link" href="#åœºæ™¯" title="Direct link to heading">#</a></h3><ul><li>ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ã€‚å°†è¿™äº›æ–¹é¢å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚</li><li>ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡å°†å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚</li><li>ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œå¹¶ä¸çŸ¥é“è¿™äº›å¯¹è±¡æ˜¯è°ã€‚</li><li>éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ï¼ŒAå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Bå¯¹è±¡ï¼ŒBå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Cå¯¹è±¡â€¦â€¦ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="åŸºæœ¬æ¨¡å¼"></a>åŸºæœ¬æ¨¡å¼<a class="hash-link" href="#åŸºæœ¬æ¨¡å¼" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="uml"></a>UML<a class="hash-link" href="#uml" title="Direct link to heading">#</a></h3><p><img src="/docs.advanced.way/assets/images/3-1Q1161A6221S-d0c250d1659d2cb071db94448299e37c.gif"></p><ul><li>æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰è§’è‰²ï¼šä¹Ÿå«æŠ½è±¡ç›®æ ‡ç±»ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç”¨äºä¿å­˜è§‚å¯Ÿè€…å¯¹è±¡çš„èšé›†ç±»å’Œå¢åŠ ã€åˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡çš„æ–¹æ³•ï¼Œä»¥åŠé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…çš„æŠ½è±¡æ–¹æ³•ã€‚</li><li>å…·ä½“ä¸»é¢˜ï¼ˆConcrete    Subjectï¼‰è§’è‰²ï¼šä¹Ÿå«å…·ä½“ç›®æ ‡ç±»ï¼Œå®ƒå®ç°æŠ½è±¡ç›®æ ‡ä¸­çš„é€šçŸ¥æ–¹æ³•ï¼Œå½“å…·ä½“ä¸»é¢˜çš„å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰æ³¨å†Œè¿‡çš„è§‚å¯Ÿè€…å¯¹è±¡ã€‚</li><li>æŠ½è±¡è§‚å¯Ÿè€…ï¼ˆObserverï¼‰è§’è‰²ï¼šå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªæ›´æ–°è‡ªå·±çš„æŠ½è±¡æ–¹æ³•ï¼Œå½“æ¥åˆ°å…·ä½“ä¸»é¢˜çš„æ›´æ”¹é€šçŸ¥æ—¶è¢«è°ƒç”¨ã€‚</li><li>å…·ä½“è§‚å¯Ÿè€…ï¼ˆConcrete Observerï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è§‚å¯Ÿè€…ä¸­å®šä¹‰çš„æŠ½è±¡æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨å¾—åˆ°ç›®æ ‡çš„æ›´æ”¹é€šçŸ¥æ—¶æ›´æ–°è‡ªèº«çš„çŠ¶æ€</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼<a class="hash-link" href="#è§‚å¯Ÿè€…æ¨¡å¼" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">abstract class Subject {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // è§‚å¯Ÿè€…åˆ—è¡¨</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private final List&lt;Observer&gt; observers = new ArrayList&lt;&gt;(16);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public int state;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public int getState() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return this.state;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public abstract void setAction(int state);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // æ·»åŠ è§‚å¯Ÿè€…</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void attach(Observer observer) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.observers.add(observer);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // åˆ é™¤è§‚å¯Ÿè€…</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void unbind(Observer observer) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.observers.remove(observer);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public List&lt;Observer&gt; getObservers() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return this.observers;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // é€šçŸ¥</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void notifyObserver() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.observers.forEach(Observer::update);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class ConcreteSubject extends Subject {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    @Override</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void setAction(int state) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.state = state;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        notifyObserver();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">abstract class Observer {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public Subject subject;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public abstract void update();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class A extends Observer {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    A(Subject subject) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.subject = subject;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.subject.attach(this);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    @Override</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void update() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        System.out.println(&quot;A ==&gt; &quot; + subject.getState());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class B extends Observer {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    B(Subject subject) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.subject = subject;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.subject.attach(this);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    @Override</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void update() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        System.out.println(&quot;B ==&gt; &quot; + subject.getState());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class Client {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // åˆ›å»ºä¸»é¢˜</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        Subject subject = new ConcreteSubject();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // ç»‘å®šè§‚å¯Ÿè€…</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        new A(subject);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        new B(subject);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // æ›´æ–°å€¼</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        subject.setAction(1);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // è¾“å‡º: </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // A ==&gt; 1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // B ==&gt; 1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="jdk-æä¾›çš„æ¨¡å¼"></a>JDK æä¾›çš„æ¨¡å¼<a class="hash-link" href="#jdk-æä¾›çš„æ¨¡å¼" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="jdk-æºç "></a>JDK æºç <a class="hash-link" href="#jdk-æºç " title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import java.util.Observable;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ä¸€ä¸ªObserverå¯¹è±¡ç›‘è§†ç€ä¸€ä¸ªObservableå¯¹è±¡çš„å˜åŒ–ï¼Œå½“Observableå¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒObserverå¾—åˆ°é€šçŸ¥ï¼Œå°±å¯ä»¥è¿›è¡Œç›¸åº”çš„å·¥ä½œ</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public interface Observer {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    void update(Observable o, Object arg);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class Observable {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // ç”¨æ¥è®¾ç½®ä¸€ä¸ªå†…éƒ¨æ ‡å¿—ä½æ³¨æ˜æ•°æ®å‘ç”Ÿäº†å˜åŒ–</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private boolean changed = false;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private Vector&lt;Observer&gt; obs;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public Observable() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        obs = new Vector&lt;&gt;();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public synchronized void addObserver(Observer o) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        if (o == null)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            throw new NullPointerException();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        if (!obs.contains(o)) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            obs.addElement(o);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public synchronized void deleteObserver(Observer o) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        obs.removeElement(o);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // è°ƒç”¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ‰€æœ‰çš„Observerçš„update()æ–¹æ³•ï¼Œé€šçŸ¥å®ƒä»¬æ•°æ®å‘ç”Ÿäº†å˜åŒ–</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void notifyObservers() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        notifyObservers(null);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void notifyObservers(Object arg) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        Object[] arrLocal;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        synchronized (this) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            if (!changed)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                return;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            arrLocal = obs.toArray();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            clearChanged();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        for (int i = arrLocal.length-1; i&gt;=0; i--)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            ((Observer)arrLocal[i]).update(this, arg);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public synchronized void deleteObservers() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        obs.removeAllElements();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    protected synchronized void setChanged() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        changed = true;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    protected synchronized void clearChanged() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        changed = false;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public synchronized boolean hasChanged() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return changed;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public synchronized int countObservers() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return obs.size();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ä½¿ç”¨"></a>ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class JdkObserver {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // ä¸»é¢˜</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        ConcreteJdkSubject subject = new ConcreteJdkSubject();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // ç»‘å®šè§‚å¯Ÿè€…</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        new JdkA(subject);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        subject.setAction(&quot;data&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class ConcreteJdkSubject extends Observable {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private Object data;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void setAction(Object data) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.data = data;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        setChanged();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // æœ‰å‚æ•°</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        notifyObservers(this.data);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // æ— å‚æ•°</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        notifyObservers();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// è§‚å¯Ÿè€…</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class JdkA implements java.util.Observer {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    JdkA(ConcreteJdkSubject concreteJdkSubject) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        concreteJdkSubject.addObserver(this);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    @Override</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void update(Observable o, Object arg) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        System.out.println(arg);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        System.out.println(o.countObservers());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ç›‘å¬å™¨æ¨¡å¼"></a>ç›‘å¬å™¨æ¨¡å¼<a class="hash-link" href="#ç›‘å¬å™¨æ¨¡å¼" title="Direct link to heading">#</a></h2><p>ç›‘å¬å™¨æ¨¡å¼ æœ‰ä¸‰ä¸ªè¦ç´  â€”â€” å¹¿æ’­å™¨ã€äº‹ä»¶ã€ç›‘å¬å™¨</p><ol><li>å‘å¸ƒå™¨ï¼šç”¨äºäº‹ä»¶æ³¨å†Œå’Œå‘å¸ƒ</li><li>äº‹ä»¶ï¼šè§¦å‘çš„æ“ä½œ</li><li>ç›‘å¬å™¨ï¼šç›‘å¬å™¨æ¨¡å¼çš„æ ¸å¿ƒï¼Œå®šä¹‰äº‹ä»¶å‘ç”Ÿåçš„åŠ¨ä½œ</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// æŠ½è±¡äº‹ä»¶</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">abstract class Event {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public Object data;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public Object getData() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return data;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void setData(Object data) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.data = data;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// è‡ªå®šä¹‰çš„äº‹ä»¶</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class EventA extends Event {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class EventB extends Event {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// ç›‘å¬å™¨</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">abstract class Listener {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    abstract void doWorker(Event event);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class ListenerA extends Listener {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    @Override</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    void doWorker(Event event) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        if (event instanceof EventA) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            System.out.println(&quot;Event A ===&gt; &quot; + event.getData());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// äº‹ä»¶å‘å¸ƒå™¨</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">abstract class Publish {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private final List&lt;Listener&gt; listeners = new ArrayList&lt;&gt;(16);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void addListener(Listener listener) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.listeners.add(listener);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void removeListener(Listener listener) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.listeners.remove(listener);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // å‘å¸ƒäº‹ä»¶</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public void publish(Event event) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        this.listeners.forEach(a -&gt; a.doWorker(event));</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// è‡ªå®šä¹‰å‘å¸ƒå™¨</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class MulticasterPublish extends Publish {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class ListenerEvent {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // å£°æ˜ç›‘å¬å™¨</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        MulticasterPublish multicasterPublish = new MulticasterPublish();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        multicasterPublish.addListener(new ListenerA());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // äº‹ä»¶æ³¨å†Œå’Œå‘å¸ƒ</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        EventA eventA = new EventA();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        eventA.setData(&quot;event a&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        multicasterPublish.publish(eventA);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        EventB eventB = new EventB();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        eventB.setData(&quot;event b&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        multicasterPublish.publish(eventB);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Goldwood1024/docs.advanced.way/docs/docs/patterns/behavior/è§‚å¯Ÿè€…æ¨¡å¼.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-19T05:21:18.000Z" class="lastUpdatedDate_1WI_">3/19/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs.advanced.way/docs/patterns/behavior/èŒè´£é“¾æ¨¡å¼"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« è´£ä»»é“¾æ¨¡å¼</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs.advanced.way/docs/patterns/behavior/è§£é‡Šå™¨æ¨¡å¼"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">è§£é‡Šå™¨æ¨¡å¼ Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®šä¹‰" class="table-of-contents__link">å®šä¹‰</a><ul><li><a href="#åœºæ™¯" class="table-of-contents__link">åœºæ™¯</a></li></ul></li><li><a href="#åŸºæœ¬æ¨¡å¼" class="table-of-contents__link">åŸºæœ¬æ¨¡å¼</a><ul><li><a href="#uml" class="table-of-contents__link">UML</a></li><li><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="table-of-contents__link">è§‚å¯Ÿè€…æ¨¡å¼</a></li></ul></li><li><a href="#jdk-æä¾›çš„æ¨¡å¼" class="table-of-contents__link">JDK æä¾›çš„æ¨¡å¼</a><ul><li><a href="#jdk-æºç " class="table-of-contents__link">JDK æºç </a></li><li><a href="#ä½¿ç”¨" class="table-of-contents__link">ä½¿ç”¨</a></li></ul></li><li><a href="#ç›‘å¬å™¨æ¨¡å¼" class="table-of-contents__link">ç›‘å¬å™¨æ¨¡å¼</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 è¿›é˜¶ä¹‹è·¯, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs.advanced.way/assets/js/styles.ddded6a8.js"></script>
<script src="/docs.advanced.way/assets/js/runtime~main.5d198aef.js"></script>
<script src="/docs.advanced.way/assets/js/main.131ff777.js"></script>
<script src="/docs.advanced.way/assets/js/1.6e33c73b.js"></script>
<script src="/docs.advanced.way/assets/js/2.88860bc9.js"></script>
<script src="/docs.advanced.way/assets/js/3.52177707.js"></script>
<script src="/docs.advanced.way/assets/js/1be78505.9a733b12.js"></script>
<script src="/docs.advanced.way/assets/js/198.598f71db.js"></script>
<script src="/docs.advanced.way/assets/js/935f2afb.dbe87953.js"></script>
<script src="/docs.advanced.way/assets/js/17896441.71928309.js"></script>
<script src="/docs.advanced.way/assets/js/e1258e88.bcd9ec08.js"></script>
</body>
</html>