<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/docs.advanced.way/blog/rss.xml" title="进阶之路 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs.advanced.way/blog/atom.xml" title="进阶之路 Blog Atom Feed"><title data-react-helmet="true">面试记录 | 进阶之路</title><meta data-react-helmet="true" property="og:url" content="https://Goldwood1024.github.io/docs.advanced.way/docs/job/面经"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="面试记录 | 进阶之路"><meta data-react-helmet="true" name="description" content="单创"><meta data-react-helmet="true" property="og:description" content="单创"><link data-react-helmet="true" rel="shortcut icon" href="/docs.advanced.way/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://Goldwood1024.github.io/docs.advanced.way/docs/job/面经"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/job/面经" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Goldwood1024.github.io/docs.advanced.way/docs/job/面经" hreflang="x-default"><link rel="stylesheet" href="/docs.advanced.way/assets/css/styles.1814d5b2.css">
<link rel="preload" href="/docs.advanced.way/assets/js/styles.c39193e4.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/runtime~main.31e7531f.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/main.7e661cf7.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/1.37ea112e.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/2.bc3af587.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/3.8a44ae5e.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/1be78505.225f97f8.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/199.9235a8ef.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/935f2afb.2cafdc0e.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/17896441.53201460.js" as="script">
<link rel="preload" href="/docs.advanced.way/assets/js/d8167cad.9edfb6a7.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">进阶之路</strong></a><a class="navbar__item navbar__link" href="/docs.advanced.way/docs/java/">Java</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">常用框架</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/spring/">常用框架</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/mybatis/">Mybatis</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/framework/auth/">权限管理</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">中间件</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/distributed/">分布式</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/tranctional/">事务</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/servicemesh/">服务网格</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/mq/">消息队列</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">云原生</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/cloud/docker/base/镜像/">Docker容器</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/k8s/">K8s</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/serverless/">Serverless</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">服务器</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/linux/">Linux</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cache/">缓存</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/db/mysql/InnoDB/">数据库</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cs/network/tcpip/">计算机系统</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">编码实践</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/algorithm/algorithm/">算法/数据结构</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/patterns/">设计模式</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/architecture/">架构设计</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/job/java/">面试</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/memo/tool/系统初始化/">备忘</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">小百科</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs.advanced.way/docs/cyclopedia/chinese/notes/dingding/">课堂笔记</a></li><li><a class="dropdown__link" href="/docs.advanced.way/docs/cyclopedia/chinese/lan/idiom/">大中国</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs.advanced.way/blog">博客</a><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">进阶之路</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/java/">Java</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">常用框架</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/spring/">常用框架</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/mybatis/">Mybatis</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/framework/auth/">权限管理</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">中间件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/distributed/">分布式</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/tranctional/">事务</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/servicemesh/">服务网格</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/mq/">消息队列</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">云原生</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cloud/docker/base/镜像/">Docker容器</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/k8s/">K8s</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/serverless/">Serverless</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">服务器</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/linux/">Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cache/">缓存</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/db/mysql/InnoDB/">数据库</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cs/network/tcpip/">计算机系统</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">编码实践</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/algorithm/algorithm/">算法/数据结构</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/patterns/">设计模式</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/architecture/">架构设计</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/job/java/">面试</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/memo/tool/系统初始化/">备忘</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">小百科</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cyclopedia/chinese/notes/dingding/">课堂笔记</a></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/docs/cyclopedia/chinese/lan/idiom/">大中国</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs.advanced.way/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/Goldwood1024/docs.advanced.way.git" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/docs.advanced.way/"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs.advanced.way/img/logo.svg" alt="进阶之路 Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>进阶之路</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Java后端开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/java/">JAVA 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/jvm">JVM 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/mybatis">Mybatis 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/mysql">MySQL 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/redis">Redis 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/rabbitmq">RabbitMQ 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/spring">Spring 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/linux">Linux 面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/网络协议">网络协议</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/分布式">分布式面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/算法">算法面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs.advanced.way/docs/job/服务器">服务器面试题</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs.advanced.way/docs/job/面经">面试记录</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">面试记录</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="单创"></a>单创<a class="hash-link" href="#单创" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="自我介绍"></a>自我介绍<a class="hash-link" href="#自我介绍" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="最近项目介绍"></a>最近项目介绍<a class="hash-link" href="#最近项目介绍" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="为什么使用线程池"></a>为什么使用线程池<a class="hash-link" href="#为什么使用线程池" title="Direct link to heading">#</a></h3><ol><li>提高程序的执行效率</li><li>控制线程的数量，防止程序崩溃</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="线程池核心数怎么设置"></a>线程池核心数怎么设置<a class="hash-link" href="#线程池核心数怎么设置" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="用过哪些设计模式"></a>用过哪些设计模式<a class="hash-link" href="#用过哪些设计模式" title="Direct link to heading">#</a></h3><p>单利 策略 工厂 责任链 建造者</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="最近的项目对你有什么提升"></a>最近的项目对你有什么提升<a class="hash-link" href="#最近的项目对你有什么提升" title="Direct link to heading">#</a></h3><ol><li>对整体架构设计有了一定的认识，系统架构不在神秘。也了解系统架构需要做哪些事情</li><li>进一步认识技术框架原理</li><li>学到修改字节码技术</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="为什么离职"></a>为什么离职<a class="hash-link" href="#为什么离职" title="Direct link to heading">#</a></h3><ol><li>个人安排</li><li>公司整体再走下坡路</li><li>感觉自己达到了技术瓶颈</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="锁升级"></a>锁升级<a class="hash-link" href="#锁升级" title="Direct link to heading">#</a></h3><p>无锁、偏向锁，轻量级锁，重量级锁</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="为什么要有锁升级"></a>为什么要有锁升级<a class="hash-link" href="#为什么要有锁升级" title="Direct link to heading">#</a></h3><ol><li>为了减少获得锁和释放锁带来的性能消耗</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-锁"></a>redis 锁<a class="hash-link" href="#redis-锁" title="Direct link to heading">#</a></h3><ol><li>setnx</li><li>redlock</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="加锁失败怎么处理"></a>加锁失败怎么处理<a class="hash-link" href="#加锁失败怎么处理" title="Direct link to heading">#</a></h3><ol><li>循环加锁 按次数/设置超时时间</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="什么情况下加锁失败"></a>什么情况下加锁失败<a class="hash-link" href="#什么情况下加锁失败" title="Direct link to heading">#</a></h3><ol><li>锁已被其他线程占用</li><li>线程使用完毕，没有释放锁</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-网络连接失败"></a>redis 网络连接失败<a class="hash-link" href="#redis-网络连接失败" title="Direct link to heading">#</a></h3><ol><li>检查实例地址是否正确，ping 实例的服务器网络是否通畅，检查服务器是否正常</li><li>检查6379端口号是否开放，实例是否正常启动</li><li>判断是否开启了只绑定本地IP，是否开启了密码访问</li><li>使用 redis-cli 连接检查</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-挂掉怎么办"></a>redis 挂掉怎么办<a class="hash-link" href="#redis-挂掉怎么办" title="Direct link to heading">#</a></h3><ol><li>开启持久化功能</li><li>处理缓存丢失的数据</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="碰到问题怎么处理的"></a>碰到问题怎么处理的<a class="hash-link" href="#碰到问题怎么处理的" title="Direct link to heading">#</a></h3><ol><li>要冷静不慌乱，针对问题分析发生的原因</li><li>查找系统日志，定位到异常发生的位置，什么异常</li><li>求助同事，网络，或者GitHub</li></ol><p>事故排查过程:</p><ol><li>打开前端系统查看宕机的表现，发现一次正常一次失败 判断: 一些服务器挂机造成负载均衡失效</li><li>打开服务监控系统查看哪些机器挂机，发现全部在线没有异常的机器 判断: 未有服务器挂机</li><li>登录阿里云查看redis，mysql实例是否正常，查看是否是第三方服务引起问题，发现全部正常 判断: 服务本身出了问题</li><li>从头开始排查，查看nginx日志，发现nginx实例正常，负载转发正常 判断: 非nginx原因</li><li>查看网关层A机器，系统cpu,内存,磁盘空间,实例日志，未发现异常</li><li>查看网关层B机器，cpu占满，实例日志异常不断输出 找到了问题机器，尝试重启应用节点，问题未修复</li><li>异常 <code>java.io.IOException: Too many open files</code> 判断: 一个进程的文件描述符不够用</li><li>查看当前进程使用的句柄数 <code>lsof -n|awk &#x27;{print $2}&#x27;|sort|uniq -c|sort -nr|more</code>, 使用数远远超过设置的值，已设置为65535</li></ol><p>分析:</p><ol><li>正常情况下使用完毕的句柄会被回收，但并没有被回收</li><li>回想是否在代码层面是否资源没有被释放掉的，代码层面没有这块的逻辑</li><li>初步判定 是 springcloud gateway 的问题</li><li>查找 springcloud gateway 的issue，找到相同的问题，官方给出的解释是低版本bug, 解决方案升级系统版本</li><li>论证升级版本的风险，版本升级，持续监控，问题解决</li></ol><p>耗时: 10-20 分钟</p><p>问题复盘: 小版本升级后，未做大规模压测。减少版本升级频率</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="怎么看加班"></a>怎么看加班<a class="hash-link" href="#怎么看加班" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="欢聚集团"></a>欢聚集团<a class="hash-link" href="#欢聚集团" title="Direct link to heading">#</a></h2><p>视频面试</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="自我介绍-1"></a>自我介绍<a class="hash-link" href="#自我介绍-1" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="业务架构和技术架构"></a>业务架构和技术架构<a class="hash-link" href="#业务架构和技术架构" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="最终一致性解决方案"></a>最终一致性解决方案<a class="hash-link" href="#最终一致性解决方案" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="分布式事务"></a>分布式事务<a class="hash-link" href="#分布式事务" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="秒杀系统怎么设计"></a>秒杀系统怎么设计<a class="hash-link" href="#秒杀系统怎么设计" title="Direct link to heading">#</a></h3><ul><li>静态资源放入cdn服务器，oss存储</li><li>前端倒计时，到时间在放出按钮，点击后按钮置灰。时间分片（验证码）</li><li>限流 后端防止恶意请求，网关层限制同一ip或同一个账户访问，超过访问的限制，丢弃请求</li><li>缓存热点数据，redis 主从，集群</li><li>业务异步处理，消息队列</li><li>拓展机器，负载均衡</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="扣减库存"></a>扣减库存<a class="hash-link" href="#扣减库存" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="springboot启动过程"></a>springboot启动过程<a class="hash-link" href="#springboot启动过程" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="spring启动过程"></a>spring启动过程<a class="hash-link" href="#spring启动过程" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="调用超时-怎么排查"></a>调用超时 怎么排查<a class="hash-link" href="#调用超时-怎么排查" title="Direct link to heading">#</a></h3><p>排查调用链</p><ul><li>检查网络 ping</li><li>检查负载均衡，网关，各服务实例CPU,内存，磁盘</li><li>检查数据库，查看慢日志</li><li>检查其他中间件</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-数据类型"></a>redis 数据类型<a class="hash-link" href="#redis-数据类型" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="zset-怎么实现"></a>zset 怎么实现<a class="hash-link" href="#zset-怎么实现" title="Direct link to heading">#</a></h3><p>ziplist或者skiplist</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-选举策略"></a>redis 选举策略<a class="hash-link" href="#redis-选举策略" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-主从方式"></a>redis 主从方式<a class="hash-link" href="#redis-主从方式" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="juc-包用过哪些"></a>juc 包用过哪些<a class="hash-link" href="#juc-包用过哪些" title="Direct link to heading">#</a></h3><p>ReentrantLock</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="可重入锁"></a>可重入锁<a class="hash-link" href="#可重入锁" title="Direct link to heading">#</a></h3><p>某个线程已经获得某个锁，可以再次获取锁而不会出现死锁,</p><p>加锁的时候锁对象记录当前的对象的线程</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="设计模式"></a>设计模式<a class="hash-link" href="#设计模式" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="工厂有哪些"></a>工厂有哪些<a class="hash-link" href="#工厂有哪些" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="单利模式双重校验锁"></a>单利模式双重校验锁<a class="hash-link" href="#单利模式双重校验锁" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class Foo {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    private Helper helper = null;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    public Helper getHelper() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        // 判断是否已创建实例，已创建直接返回实例。不在获取锁</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        if (helper == null) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            synchronized(this) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                // 如果其他线程曾获取过锁，那么变量已被初始化，返回初始化的变量</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                if (helper == null) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                    helper = new Helper();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return helper;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="starter-怎么实现的"></a>starter 怎么实现的<a class="hash-link" href="#starter-怎么实现的" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="springboot-aop"></a>springboot aop<a class="hash-link" href="#springboot-aop" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">dependency</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">groupId</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">groupId</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">artifactId</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span><span class="token plain">spring-boot-starter-aop</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">artifactId</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">dependency</span><span class="token tag punctuation" style="color:rgb(36, 41, 46)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>引入了AOP依赖后，默认已经增加了 @EnableAspectJAutoProxy 导入 AspectJAutoProxyRegistrar
加入 @Aspect注解</p><p>AspectJ是静态代理的增强，所谓的静态代理就是AOP框架会在编译阶段生成AOP代理类，因此也称为编译时增强</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cas-问题"></a>cas 问题<a class="hash-link" href="#cas-问题" title="Direct link to heading">#</a></h3><p>ABA 添加版本号</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="新移传媒"></a>新移传媒<a class="hash-link" href="#新移传媒" title="Direct link to heading">#</a></h2><p>电话面试</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="自我介绍-2"></a>自我介绍<a class="hash-link" href="#自我介绍-2" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="为什么离职-1"></a>为什么离职<a class="hash-link" href="#为什么离职-1" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cpu爆，怎么排查"></a>cpu爆，怎么排查<a class="hash-link" href="#cpu爆，怎么排查" title="Direct link to heading">#</a></h3><p>top -Hp pid可以查看某个进程的线程信息
print pid 转换成16进制
jstack </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="jvm-调优"></a>jvm 调优<a class="hash-link" href="#jvm-调优" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="mq-防止重复消费"></a>mq 防止重复消费<a class="hash-link" href="#mq-防止重复消费" title="Direct link to heading">#</a></h3><p>消费者 conform 解决 消息丢失
记录message id 解决重复消费</p><p>消息顺序</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cdn"></a>cdn<a class="hash-link" href="#cdn" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="mysql-回表"></a>mysql 回表<a class="hash-link" href="#mysql-回表" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="聚簇索引、非聚簇索引"></a>聚簇索引、非聚簇索引<a class="hash-link" href="#聚簇索引、非聚簇索引" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-为什么快"></a>redis 为什么快<a class="hash-link" href="#redis-为什么快" title="Direct link to heading">#</a></h3><ol><li>完全基于内存，绝大部分请求是纯粹的内存操作</li><li>采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU</li><li>使用多路I/O复用模型 epoll</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-集群，hash环"></a>redis 集群，hash环<a class="hash-link" href="#redis-集群，hash环" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="触发-full-gc"></a>触发 full gc<a class="hash-link" href="#触发-full-gc" title="Direct link to heading">#</a></h3><ol><li><p>System.gc()</p></li><li><p>老年代空间不足</p></li><li><p>堆中分配很大的对象</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="税友"></a>税友<a class="hash-link" href="#税友" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="幂等性"></a>幂等性<a class="hash-link" href="#幂等性" title="Direct link to heading">#</a></h3><p>对同一个系统，使用同样的条件，一次请求和重复的多次请求对系统资源的影响是一致的</p><p>实现</p><p>A请求携带一个唯一值key，B第一次访问缓存key、执行方法并缓存结果。第二次访问直接返回结果</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="sql-索引"></a>sql 索引<a class="hash-link" href="#sql-索引" title="Direct link to heading">#</a></h3><p>假设有组合索引 index(a,b,c),以下情况不考虑 select * 内容 (覆盖索引)</p><p>where a = 3  用到索引 a</p><p>where a = 3 and b = 3 用到索引 a,b</p><p>where a = 3 and b = 4 and c = 5  用到索引 a,b,c</p><p>where b = 3 或者 where b = 3 and c = 4 或者 where c = 4 索引失效</p><p>where a = 3 and c = 5 用到索引 a</p><p>where a = 3 and b &gt; 4 and c = 5 用到索引a和b，c不能用在范围之后</p><p>where a = 3 and b like &#x27;kk%&#x27; and c = 4 用到索引a,b,c。</p><p>where a = 3 and b like &#x27;%kk&#x27; and c = 4 使用到 a</p><p>where a = 3 and b like &#x27;%kk%&#x27; and c = 4 用到 a</p><p>where a = 3 and b like &#x27;k%kk%&#x27; and c = 4 用到a,b,c</p><p>切记使用索引字段值的类型必须匹配，否则索引无效。</p><p>只有 where 走索引</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="解析"></a>解析<a class="hash-link" href="#解析" title="Direct link to heading">#</a></h3><p>from .. on ...join ..where ..group by ...having .select dinstinct ..order by ..limit..</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="河马"></a>河马<a class="hash-link" href="#河马" title="Direct link to heading">#</a></h2><p>一面：</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="项目介绍"></a>项目介绍<a class="hash-link" href="#项目介绍" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="order-by"></a>order by<a class="hash-link" href="#order-by" title="Direct link to heading">#</a></h3><p>mysql两种排序方式：文件排序或扫描索引排序</p><p>filesort和index，index效率高，它指mysql扫描索引本身完成排序，filesort方式效率低</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="不用juc和sync实现线程安全"></a>不用juc和sync实现线程安全<a class="hash-link" href="#不用juc和sync实现线程安全" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="分库分表"></a>分库分表<a class="hash-link" href="#分库分表" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="分库分表-分布式事务"></a>分库分表 分布式事务<a class="hash-link" href="#分库分表-分布式事务" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-数据结构-list底层"></a>redis 数据结构 list底层<a class="hash-link" href="#redis-数据结构-list底层" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-锁，如何不重试，获取锁"></a>redis 锁，如何不重试，获取锁<a class="hash-link" href="#redis-锁，如何不重试，获取锁" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="公平锁和非公平锁"></a>公平锁和非公平锁<a class="hash-link" href="#公平锁和非公平锁" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="feign-调用过程，如何设计"></a>feign 调用过程，如何设计<a class="hash-link" href="#feign-调用过程，如何设计" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="反问面试官"></a>反问面试官<a class="hash-link" href="#反问面试官" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="citydo"></a>CityDo<a class="hash-link" href="#citydo" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="项目介绍-1"></a>项目介绍<a class="hash-link" href="#项目介绍-1" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="spring-事务隔离mysql-数据库默认隔离级别"></a>spring 事务隔离,mysql 数据库默认隔离级别<a class="hash-link" href="#spring-事务隔离mysql-数据库默认隔离级别" title="Direct link to heading">#</a></h3><p>mysql8</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="数据库编码"></a>数据库编码<a class="hash-link" href="#数据库编码" title="Direct link to heading">#</a></h3><p>utf8mb4</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="sql-调优"></a>Sql 调优<a class="hash-link" href="#sql-调优" title="Direct link to heading">#</a></h3><ol><li>使用索引</li><li>预编译</li><li>避免在索引上使用计算</li><li>尽量将多条SQL语句压缩到一句SQL中</li><li>使用表的别名</li><li>更新Update语句优化</li></ol><p>如果只更改1、2个字段，不要Update全部字段，否则频繁调用会引起明显的性能消耗，同时带来大量日志</p><ol start="7"><li>插入Insert语句优化</li></ol><p>在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert</p><ol start="8"><li>查询select语句优化</li><li>用varchar 代替 char</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="select_type-几种类型"></a>select_type 几种类型<a class="hash-link" href="#select_type-几种类型" title="Direct link to heading">#</a></h3><ul><li>SIMPLE 简单的SELECT语句（不包括UNION操作或子查询操作）</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><div tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">*</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">from</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">user</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">where</span><span class="token plain"> uid</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>PRIMARY 查询中最外层的SELECT（如两表做UNION或者存在子查询的外层的表操作为PRIMARY，内层的操作为UNION）</li><li>DERIVED：导出表的SELECT（FROM子句的子查询）</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><div tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">explain</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">*</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">from</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token keyword" style="color:#e3116c">select</span><span class="token plain"> </span><span class="token function" style="color:rgb(111, 66, 193)">max</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">from</span><span class="token plain"> table_name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">a </span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>UNION 第二层，在SELECT之后使用了UNION</li><li>UNION RESULT UNION的结果</li><li>DEPENDENT UNION UNION语句中的第二个SELECT，依赖于外部子查询</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><div tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">*</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">from</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">user</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">where</span><span class="token plain"> uid</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">union</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">*</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">from</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">user</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">where</span><span class="token plain"> uid</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token number">2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>SUBQUERY 子查询中首个SELECT（如果有多个子查询存在）</li><li>DEPENDENT SUBQUERY：子查询中首个SELECT，但依赖于外层的表（如果有多个子查询存在）</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="分布式原理"></a>分布式原理<a class="hash-link" href="#分布式原理" title="Direct link to heading">#</a></h3><p>CAP BASE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="springboot-自动装配原理"></a>springboot 自动装配原理<a class="hash-link" href="#springboot-自动装配原理" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-哪些场景使用锁"></a>redis 哪些场景使用锁<a class="hash-link" href="#redis-哪些场景使用锁" title="Direct link to heading">#</a></h3><p>setnx 成功，返回 1 ,失败，返回 0</p><p>调度平台、扣减库存</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="消息队列多消费端怎么处理，消费者注意什么"></a>消息队列多消费端怎么处理，消费者注意什么<a class="hash-link" href="#消息队列多消费端怎么处理，消费者注意什么" title="Direct link to heading">#</a></h3><p>设置消费端数量</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@RabbitListener(concurrency=&quot;5&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>数据重复被消费</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="消息队列使用场景，为什么选用rabbitmq"></a>消息队列使用场景，为什么选用rabbitmq<a class="hash-link" href="#消息队列使用场景，为什么选用rabbitmq" title="Direct link to heading">#</a></h3><ol><li>从社区活跃度</li><li>底层erlang实现</li><li>吞吐量</li><li>配置量小</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="线程池参数，如何创建线程池"></a>线程池参数，如何创建线程池<a class="hash-link" href="#线程池参数，如何创建线程池" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="生产事故"></a>生产事故<a class="hash-link" href="#生产事故" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="feign-调优"></a>feign 调优<a class="hash-link" href="#feign-调优" title="Direct link to heading">#</a></h3><ol><li>开启熔断</li><li>配置连接时间、超时时间，最大连接数</li><li>使用okhttp客户端，配置连接池</li><li>请求日志 Logger.Level</li><li>请求、返回数据压缩gzip</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="feign-调用过程"></a>feign 调用过程<a class="hash-link" href="#feign-调用过程" title="Direct link to heading">#</a></h3><ol><li>基于面向接口的动态代理方式生成实现类</li><li>根据Contract协议规则，解析接口类的注解信息，解析成内部表现</li><li>基于 RequestBean，动态生成Request</li><li>使用Encoder 将Bean转换成 Http报文正文</li><li>拦截器负责对请求和返回进行装饰处理</li><li>日志记录</li><li>基于重试器发送HTTP请求</li><li>发送Http请求</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="链路跟踪什么原理"></a>链路跟踪什么原理<a class="hash-link" href="#链路跟踪什么原理" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="有赞"></a>有赞<a class="hash-link" href="#有赞" title="Direct link to heading">#</a></h2><p>一面</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="自我介绍-3"></a>自我介绍<a class="hash-link" href="#自我介绍-3" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="离职原因"></a>离职原因<a class="hash-link" href="#离职原因" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="秒杀场景"></a>秒杀场景<a class="hash-link" href="#秒杀场景" title="Direct link to heading">#</a></h3><p>缓存商品库存数据到redis中，预减库存，将扣减库存成功的放入消息队列处理订单创建，通过websocket通知前端下单成功</p><p>付款完成后扣减数据库库存，付款倒计时，超出时间库存放回</p><p>redis 采用主从、集群防止宕机</p><p>采用分区扣减，每台机器都存储一部分库存数据，使用负载均衡算法解决数据倾斜</p><p>网关层限流 记录访问次数，超过丢弃</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="负载均衡"></a>负载均衡<a class="hash-link" href="#负载均衡" title="Direct link to heading">#</a></h3><p>轮询、权重、hash、取模运算</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-集群复制过程"></a>redis 集群复制过程<a class="hash-link" href="#redis-集群复制过程" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="jvm-模型"></a>jvm 模型<a class="hash-link" href="#jvm-模型" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="gc-算法"></a>gc 算法<a class="hash-link" href="#gc-算法" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="垃圾回收器"></a>垃圾回收器<a class="hash-link" href="#垃圾回收器" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="spring-初始化-bean"></a>spring 初始化 Bean<a class="hash-link" href="#spring-初始化-bean" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ioc-实现原理"></a>ioc 实现原理<a class="hash-link" href="#ioc-实现原理" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="aop-代理区别，使用场景"></a>aop 代理区别，使用场景<a class="hash-link" href="#aop-代理区别，使用场景" title="Direct link to heading">#</a></h3></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Goldwood1024/docs.advanced.way/docs/docs/job/面经.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-21T02:57:45.000Z" class="lastUpdatedDate_1WI_">3/21/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs.advanced.way/docs/job/服务器"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 服务器面试题</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#单创" class="table-of-contents__link">单创</a><ul><li><a href="#自我介绍" class="table-of-contents__link">自我介绍</a></li><li><a href="#最近项目介绍" class="table-of-contents__link">最近项目介绍</a></li><li><a href="#为什么使用线程池" class="table-of-contents__link">为什么使用线程池</a></li><li><a href="#线程池核心数怎么设置" class="table-of-contents__link">线程池核心数怎么设置</a></li><li><a href="#用过哪些设计模式" class="table-of-contents__link">用过哪些设计模式</a></li><li><a href="#最近的项目对你有什么提升" class="table-of-contents__link">最近的项目对你有什么提升</a></li><li><a href="#为什么离职" class="table-of-contents__link">为什么离职</a></li><li><a href="#锁升级" class="table-of-contents__link">锁升级</a></li><li><a href="#为什么要有锁升级" class="table-of-contents__link">为什么要有锁升级</a></li><li><a href="#redis-锁" class="table-of-contents__link">redis 锁</a></li><li><a href="#加锁失败怎么处理" class="table-of-contents__link">加锁失败怎么处理</a></li><li><a href="#什么情况下加锁失败" class="table-of-contents__link">什么情况下加锁失败</a></li><li><a href="#redis-网络连接失败" class="table-of-contents__link">redis 网络连接失败</a></li><li><a href="#redis-挂掉怎么办" class="table-of-contents__link">redis 挂掉怎么办</a></li><li><a href="#碰到问题怎么处理的" class="table-of-contents__link">碰到问题怎么处理的</a></li><li><a href="#怎么看加班" class="table-of-contents__link">怎么看加班</a></li></ul></li><li><a href="#欢聚集团" class="table-of-contents__link">欢聚集团</a><ul><li><a href="#自我介绍-1" class="table-of-contents__link">自我介绍</a></li><li><a href="#业务架构和技术架构" class="table-of-contents__link">业务架构和技术架构</a></li><li><a href="#最终一致性解决方案" class="table-of-contents__link">最终一致性解决方案</a></li><li><a href="#分布式事务" class="table-of-contents__link">分布式事务</a></li><li><a href="#秒杀系统怎么设计" class="table-of-contents__link">秒杀系统怎么设计</a></li><li><a href="#扣减库存" class="table-of-contents__link">扣减库存</a></li><li><a href="#springboot启动过程" class="table-of-contents__link">springboot启动过程</a></li><li><a href="#spring启动过程" class="table-of-contents__link">spring启动过程</a></li><li><a href="#调用超时-怎么排查" class="table-of-contents__link">调用超时 怎么排查</a></li><li><a href="#redis-数据类型" class="table-of-contents__link">redis 数据类型</a></li><li><a href="#zset-怎么实现" class="table-of-contents__link">zset 怎么实现</a></li><li><a href="#redis-选举策略" class="table-of-contents__link">redis 选举策略</a></li><li><a href="#redis-主从方式" class="table-of-contents__link">redis 主从方式</a></li><li><a href="#juc-包用过哪些" class="table-of-contents__link">juc 包用过哪些</a></li><li><a href="#可重入锁" class="table-of-contents__link">可重入锁</a></li><li><a href="#设计模式" class="table-of-contents__link">设计模式</a></li><li><a href="#工厂有哪些" class="table-of-contents__link">工厂有哪些</a></li><li><a href="#单利模式双重校验锁" class="table-of-contents__link">单利模式双重校验锁</a></li><li><a href="#starter-怎么实现的" class="table-of-contents__link">starter 怎么实现的</a></li><li><a href="#springboot-aop" class="table-of-contents__link">springboot aop</a></li><li><a href="#cas-问题" class="table-of-contents__link">cas 问题</a></li></ul></li><li><a href="#新移传媒" class="table-of-contents__link">新移传媒</a><ul><li><a href="#自我介绍-2" class="table-of-contents__link">自我介绍</a></li><li><a href="#为什么离职-1" class="table-of-contents__link">为什么离职</a></li><li><a href="#cpu爆，怎么排查" class="table-of-contents__link">cpu爆，怎么排查</a></li><li><a href="#jvm-调优" class="table-of-contents__link">jvm 调优</a></li><li><a href="#mq-防止重复消费" class="table-of-contents__link">mq 防止重复消费</a></li><li><a href="#cdn" class="table-of-contents__link">cdn</a></li><li><a href="#mysql-回表" class="table-of-contents__link">mysql 回表</a></li><li><a href="#聚簇索引、非聚簇索引" class="table-of-contents__link">聚簇索引、非聚簇索引</a></li><li><a href="#redis-为什么快" class="table-of-contents__link">redis 为什么快</a></li><li><a href="#redis-集群，hash环" class="table-of-contents__link">redis 集群，hash环</a></li><li><a href="#触发-full-gc" class="table-of-contents__link">触发 full gc</a></li></ul></li><li><a href="#税友" class="table-of-contents__link">税友</a><ul><li><a href="#幂等性" class="table-of-contents__link">幂等性</a></li><li><a href="#sql-索引" class="table-of-contents__link">sql 索引</a></li><li><a href="#解析" class="table-of-contents__link">解析</a></li></ul></li><li><a href="#河马" class="table-of-contents__link">河马</a><ul><li><a href="#项目介绍" class="table-of-contents__link">项目介绍</a></li><li><a href="#order-by" class="table-of-contents__link">order by</a></li><li><a href="#不用juc和sync实现线程安全" class="table-of-contents__link">不用juc和sync实现线程安全</a></li><li><a href="#分库分表" class="table-of-contents__link">分库分表</a></li><li><a href="#分库分表-分布式事务" class="table-of-contents__link">分库分表 分布式事务</a></li><li><a href="#redis-数据结构-list底层" class="table-of-contents__link">redis 数据结构 list底层</a></li><li><a href="#redis-锁，如何不重试，获取锁" class="table-of-contents__link">redis 锁，如何不重试，获取锁</a></li><li><a href="#公平锁和非公平锁" class="table-of-contents__link">公平锁和非公平锁</a></li><li><a href="#feign-调用过程，如何设计" class="table-of-contents__link">feign 调用过程，如何设计</a></li><li><a href="#反问面试官" class="table-of-contents__link">反问面试官</a></li></ul></li><li><a href="#citydo" class="table-of-contents__link">CityDo</a><ul><li><a href="#项目介绍-1" class="table-of-contents__link">项目介绍</a></li><li><a href="#spring-事务隔离mysql-数据库默认隔离级别" class="table-of-contents__link">spring 事务隔离,mysql 数据库默认隔离级别</a></li><li><a href="#数据库编码" class="table-of-contents__link">数据库编码</a></li><li><a href="#sql-调优" class="table-of-contents__link">Sql 调优</a></li><li><a href="#select_type-几种类型" class="table-of-contents__link">select_type 几种类型</a></li><li><a href="#分布式原理" class="table-of-contents__link">分布式原理</a></li><li><a href="#springboot-自动装配原理" class="table-of-contents__link">springboot 自动装配原理</a></li><li><a href="#redis-哪些场景使用锁" class="table-of-contents__link">redis 哪些场景使用锁</a></li><li><a href="#消息队列多消费端怎么处理，消费者注意什么" class="table-of-contents__link">消息队列多消费端怎么处理，消费者注意什么</a></li><li><a href="#消息队列使用场景，为什么选用rabbitmq" class="table-of-contents__link">消息队列使用场景，为什么选用rabbitmq</a></li><li><a href="#线程池参数，如何创建线程池" class="table-of-contents__link">线程池参数，如何创建线程池</a></li><li><a href="#生产事故" class="table-of-contents__link">生产事故</a></li><li><a href="#feign-调优" class="table-of-contents__link">feign 调优</a></li><li><a href="#feign-调用过程" class="table-of-contents__link">feign 调用过程</a></li><li><a href="#链路跟踪什么原理" class="table-of-contents__link">链路跟踪什么原理</a></li></ul></li><li><a href="#有赞" class="table-of-contents__link">有赞</a><ul><li><a href="#自我介绍-3" class="table-of-contents__link">自我介绍</a></li><li><a href="#离职原因" class="table-of-contents__link">离职原因</a></li><li><a href="#秒杀场景" class="table-of-contents__link">秒杀场景</a></li><li><a href="#负载均衡" class="table-of-contents__link">负载均衡</a></li><li><a href="#redis-集群复制过程" class="table-of-contents__link">redis 集群复制过程</a></li><li><a href="#jvm-模型" class="table-of-contents__link">jvm 模型</a></li><li><a href="#gc-算法" class="table-of-contents__link">gc 算法</a></li><li><a href="#垃圾回收器" class="table-of-contents__link">垃圾回收器</a></li><li><a href="#spring-初始化-bean" class="table-of-contents__link">spring 初始化 Bean</a></li><li><a href="#ioc-实现原理" class="table-of-contents__link">ioc 实现原理</a></li><li><a href="#aop-代理区别，使用场景" class="table-of-contents__link">aop 代理区别，使用场景</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 进阶之路, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs.advanced.way/assets/js/styles.c39193e4.js"></script>
<script src="/docs.advanced.way/assets/js/runtime~main.31e7531f.js"></script>
<script src="/docs.advanced.way/assets/js/main.7e661cf7.js"></script>
<script src="/docs.advanced.way/assets/js/1.37ea112e.js"></script>
<script src="/docs.advanced.way/assets/js/2.bc3af587.js"></script>
<script src="/docs.advanced.way/assets/js/3.8a44ae5e.js"></script>
<script src="/docs.advanced.way/assets/js/1be78505.225f97f8.js"></script>
<script src="/docs.advanced.way/assets/js/199.9235a8ef.js"></script>
<script src="/docs.advanced.way/assets/js/935f2afb.2cafdc0e.js"></script>
<script src="/docs.advanced.way/assets/js/17896441.53201460.js"></script>
<script src="/docs.advanced.way/assets/js/d8167cad.9edfb6a7.js"></script>
</body>
</html>